import{R as r}from"./index-8b3efc3f.js";import{c as y}from"./index-6c7aef41.js";import{u as M,c as x}from"./index-0db981d8.js";import{j as d}from"./jsx-runtime-c9381026.js";function D(s){const a=s+"CollectionProvider",[A,N]=y(a),[E,m]=A(a,{collectionRef:{current:null},itemMap:new Map}),p=c=>{const{scope:e,children:l}=c,o=r.useRef(null),t=r.useRef(new Map).current;return d(E,{scope:e,itemMap:t,collectionRef:o,children:l})};p.displayName=a;const f=s+"CollectionSlot",T=x(f),C=r.forwardRef((c,e)=>{const{scope:l,children:o}=c,t=m(f,l),n=M(e,t.collectionRef);return d(T,{ref:n,children:o})});C.displayName=f;const u=s+"CollectionItemSlot",R="data-radix-collection-item",O=x(u),I=r.forwardRef((c,e)=>{const{scope:l,children:o,...t}=c,n=r.useRef(null),S=M(e,n),i=m(u,l);return r.useEffect(()=>(i.itemMap.set(n,{ref:n,...t}),()=>void i.itemMap.delete(n))),d(O,{[R]:"",ref:S,children:o})});I.displayName=u;function _(c){const e=m(s+"CollectionConsumer",c);return r.useCallback(()=>{const o=e.collectionRef.current;if(!o)return[];const t=Array.from(o.querySelectorAll(`[${R}]`));return Array.from(e.itemMap.values()).sort((i,v)=>t.indexOf(i.ref.current)-t.indexOf(v.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:p,Slot:C,ItemSlot:I},_,N]}export{D as c};
